{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\markj\\\\cuisining.v1\\\\src\\\\pages\\\\login\\\\OTP.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Done = () => {\n  _s();\n  const navigate = useNavigate();\n  const [countdown, setCountdown] = useState(4);\n  useEffect(() => {\n    const token = new URLSearchParams(window.location.search).get(\"token\");\n    if (!token) {\n      console.error(\"Authorization token not found.\");\n      navigate(\"/\");\n      return;\n    }\n    const timer = setInterval(() => {\n      setCountdown(prev => prev - 1);\n    }, 1000);\n    if (countdown === 0) {\n      clearInterval(timer);\n      fetchUserProfile(token);\n    }\n    return () => clearInterval(timer);\n  }, [countdown, navigate]);\n  const fetchUserProfile = async token => {\n    try {\n      const response = await fetch(\"http://localhost:5000/api/auth/profile\", {\n        method: \"GET\",\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      if (response.ok) {\n        const data = await response.json();\n        if (data.isProfileCustomized) {\n          navigate(\"/home-page\");\n        } else {\n          navigate(\"/customize-profile\");\n        }\n      } else {\n        console.error(\"Failed to fetch user profile.\");\n        navigate(\"/\");\n      }\n    } catch (err) {\n      console.error(\"Error fetching user profile:\", err);\n      navigate(\"/\");\n    }\n  };\n  const handleContinue = () => {\n    const token = new URLSearchParams(window.location.search).get(\"token\");\n    if (token) {\n      fetchUserProfile(token);\n    } else {\n      navigate(\"/\");\n    }\n  };\n  const styles = {\n    background: {\n      backgroundImage: \"url('https://res.cloudinary.com/dm6wodni6/image/upload/v1738813637/login-bg_n5skpt.png')\",\n      backgroundSize: \"cover\",\n      backgroundPosition: \"center\",\n      backgroundAttachment: \"fixed\",\n      height: \"100%\",\n      width: \"100%\"\n    },\n    formWrapper: {\n      display: \"flex\",\n      justifyContent: \"center\",\n      alignItems: \"center\",\n      padding: \"20px\",\n      minHeight: \"100vh\"\n    },\n    formContainer: {\n      background: \"rgba(255, 255, 255, 0.7)\",\n      backdropFilter: \"blur(10px)\",\n      WebkitBackdropFilter: \"blur(0px)\",\n      borderRadius: \"10px\",\n      padding: \"25px\",\n      boxShadow: \"0 4px 6px rgba(0, 0, 0, 0.1)\",\n      width: \"100%\",\n      maxWidth: \"400px\",\n      textAlign: \"center\"\n    },\n    heading: {\n      fontSize: \"35px\",\n      color: \"#363100\",\n      fontWeight: \"800\",\n      marginBottom: \"20px\"\n    },\n    logo: {\n      width: \"50px\",\n      height: \"50px\",\n      marginBottom: \"20px\"\n    },\n    message: {\n      fontSize: \"16px\",\n      color: \"#363100\",\n      fontWeight: \"300\",\n      marginBottom: \"20px\"\n    },\n    countdown: {\n      fontSize: \"20px\",\n      color: \"#C1B857\",\n      fontWeight: \"700\",\n      marginBottom: \"20px\"\n    },\n    button: {\n      padding: \"10px 20px\",\n      borderRadius: \"10px\",\n      backgroundColor: \"#C1B857\",\n      color: \"#363100\",\n      fontWeight: \"700\",\n      cursor: \"pointer\",\n      border: \"none\",\n      fontSize: \"16px\",\n      width: \"100%\"\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: styles.background,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.formWrapper,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.formContainer,\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"success.png\",\n          alt: \"Success\",\n          style: styles.logo\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          style: styles.heading,\n          children: \"Welcome!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: styles.message,\n          children: \"Account Created successfully. Thank You!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: styles.countdown,\n          children: [\"Redirecting to homepage in \", countdown, \" seconds...\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          style: styles.button,\n          onClick: handleContinue,\n          children: \"Continue Now\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 125,\n    columnNumber: 5\n  }, this);\n};\n_s(Done, \"ovCC45dcpvBnyugFpg1NiS2B+Rw=\", false, function () {\n  return [useNavigate];\n});\n_c = Done;\nexport default Done;\nvar _c;\n$RefreshReg$(_c, \"Done\");","map":{"version":3,"names":["React","useEffect","useState","useNavigate","jsxDEV","_jsxDEV","Done","_s","navigate","countdown","setCountdown","token","URLSearchParams","window","location","search","get","console","error","timer","setInterval","prev","clearInterval","fetchUserProfile","response","fetch","method","headers","Authorization","ok","data","json","isProfileCustomized","err","handleContinue","styles","background","backgroundImage","backgroundSize","backgroundPosition","backgroundAttachment","height","width","formWrapper","display","justifyContent","alignItems","padding","minHeight","formContainer","backdropFilter","WebkitBackdropFilter","borderRadius","boxShadow","maxWidth","textAlign","heading","fontSize","color","fontWeight","marginBottom","logo","message","button","backgroundColor","cursor","border","style","children","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","onClick","_c","$RefreshReg$"],"sources":["C:/Users/markj/cuisining.v1/src/pages/login/OTP.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nconst Done = () => {\r\n  const navigate = useNavigate();\r\n  const [countdown, setCountdown] = useState(4);\r\n\r\n  useEffect(() => {\r\n    const token = new URLSearchParams(window.location.search).get(\"token\");\r\n    if (!token) {\r\n      console.error(\"Authorization token not found.\");\r\n      navigate(\"/\");\r\n      return;\r\n    }\r\n\r\n    const timer = setInterval(() => {\r\n      setCountdown((prev) => prev - 1);\r\n    }, 1000);\r\n\r\n    if (countdown === 0) {\r\n      clearInterval(timer);\r\n      fetchUserProfile(token);\r\n    }\r\n\r\n    return () => clearInterval(timer);\r\n  }, [countdown, navigate]);\r\n\r\n  const fetchUserProfile = async (token) => {\r\n    try {\r\n      const response = await fetch(\"http://localhost:5000/api/auth/profile\", {\r\n        method: \"GET\",\r\n        headers: { Authorization: `Bearer ${token}` },\r\n      });\r\n\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        if (data.isProfileCustomized) {\r\n          navigate(\"/home-page\");\r\n        } else {\r\n          navigate(\"/customize-profile\");\r\n        }\r\n      } else {\r\n        console.error(\"Failed to fetch user profile.\");\r\n        navigate(\"/\");\r\n      }\r\n    } catch (err) {\r\n      console.error(\"Error fetching user profile:\", err);\r\n      navigate(\"/\");\r\n    }\r\n  };\r\n\r\n  const handleContinue = () => {\r\n    const token = new URLSearchParams(window.location.search).get(\"token\");\r\n    if (token) {\r\n      fetchUserProfile(token);\r\n    } else {\r\n      navigate(\"/\");\r\n    }\r\n  };\r\n\r\n  const styles = {\r\n    background: {\r\n      backgroundImage: \"url('https://res.cloudinary.com/dm6wodni6/image/upload/v1738813637/login-bg_n5skpt.png')\",\r\n      backgroundSize: \"cover\",\r\n      backgroundPosition: \"center\",\r\n      backgroundAttachment: \"fixed\",\r\n      height: \"100%\",\r\n      width: \"100%\",\r\n    },\r\n    formWrapper: {\r\n      display: \"flex\",\r\n      justifyContent: \"center\",\r\n      alignItems: \"center\",\r\n      padding: \"20px\",\r\n      minHeight: \"100vh\",\r\n    },\r\n    formContainer: {\r\n      background: \"rgba(255, 255, 255, 0.7)\",\r\n      backdropFilter: \"blur(10px)\",\r\n      WebkitBackdropFilter: \"blur(0px)\",\r\n      borderRadius: \"10px\",\r\n      padding: \"25px\",\r\n      boxShadow: \"0 4px 6px rgba(0, 0, 0, 0.1)\",\r\n      width: \"100%\",\r\n      maxWidth: \"400px\",\r\n      textAlign: \"center\",\r\n    },\r\n    heading: {\r\n      fontSize: \"35px\",\r\n      color: \"#363100\",\r\n      fontWeight: \"800\",\r\n      marginBottom: \"20px\",\r\n    },\r\n    logo: {\r\n      width: \"50px\",\r\n      height: \"50px\",\r\n      marginBottom: \"20px\",\r\n    },\r\n    message: {\r\n      fontSize: \"16px\",\r\n      color: \"#363100\",\r\n      fontWeight: \"300\",\r\n      marginBottom: \"20px\",\r\n    },\r\n    countdown: {\r\n      fontSize: \"20px\",\r\n      color: \"#C1B857\",\r\n      fontWeight: \"700\",\r\n      marginBottom: \"20px\",\r\n    },\r\n    button: {\r\n      padding: \"10px 20px\",\r\n      borderRadius: \"10px\",\r\n      backgroundColor: \"#C1B857\",\r\n      color: \"#363100\",\r\n      fontWeight: \"700\",\r\n      cursor: \"pointer\",\r\n      border: \"none\",\r\n      fontSize: \"16px\",\r\n      width: \"100%\",\r\n    },\r\n  };\r\n\r\n  return (\r\n    <div style={styles.background}>\r\n      <div style={styles.formWrapper}>\r\n        <div style={styles.formContainer}>\r\n          {/* Check mark logo */}\r\n          <img src=\"success.png\" alt=\"Success\" style={styles.logo} />\r\n          {/* Heading */}\r\n          <h2 style={styles.heading}>Welcome!</h2>\r\n          {/* Success message */}\r\n          <p style={styles.message}>\r\n            Account Created successfully. Thank You!\r\n          </p>\r\n          {/* Countdown Message */}\r\n          <p style={styles.countdown}>\r\n            Redirecting to homepage in {countdown} seconds...\r\n          </p>\r\n          {/* Continue Button */}\r\n          <button style={styles.button} onClick={handleContinue}>\r\n            Continue Now\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Done;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,SAASC,WAAW,QAAQ,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE/C,MAAMC,IAAI,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACjB,MAAMC,QAAQ,GAAGL,WAAW,CAAC,CAAC;EAC9B,MAAM,CAACM,SAAS,EAAEC,YAAY,CAAC,GAAGR,QAAQ,CAAC,CAAC,CAAC;EAE7CD,SAAS,CAAC,MAAM;IACd,MAAMU,KAAK,GAAG,IAAIC,eAAe,CAACC,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC,CAACC,GAAG,CAAC,OAAO,CAAC;IACtE,IAAI,CAACL,KAAK,EAAE;MACVM,OAAO,CAACC,KAAK,CAAC,gCAAgC,CAAC;MAC/CV,QAAQ,CAAC,GAAG,CAAC;MACb;IACF;IAEA,MAAMW,KAAK,GAAGC,WAAW,CAAC,MAAM;MAC9BV,YAAY,CAAEW,IAAI,IAAKA,IAAI,GAAG,CAAC,CAAC;IAClC,CAAC,EAAE,IAAI,CAAC;IAER,IAAIZ,SAAS,KAAK,CAAC,EAAE;MACnBa,aAAa,CAACH,KAAK,CAAC;MACpBI,gBAAgB,CAACZ,KAAK,CAAC;IACzB;IAEA,OAAO,MAAMW,aAAa,CAACH,KAAK,CAAC;EACnC,CAAC,EAAE,CAACV,SAAS,EAAED,QAAQ,CAAC,CAAC;EAEzB,MAAMe,gBAAgB,GAAG,MAAOZ,KAAK,IAAK;IACxC,IAAI;MACF,MAAMa,QAAQ,GAAG,MAAMC,KAAK,CAAC,wCAAwC,EAAE;QACrEC,MAAM,EAAE,KAAK;QACbC,OAAO,EAAE;UAAEC,aAAa,EAAE,UAAUjB,KAAK;QAAG;MAC9C,CAAC,CAAC;MAEF,IAAIa,QAAQ,CAACK,EAAE,EAAE;QACf,MAAMC,IAAI,GAAG,MAAMN,QAAQ,CAACO,IAAI,CAAC,CAAC;QAClC,IAAID,IAAI,CAACE,mBAAmB,EAAE;UAC5BxB,QAAQ,CAAC,YAAY,CAAC;QACxB,CAAC,MAAM;UACLA,QAAQ,CAAC,oBAAoB,CAAC;QAChC;MACF,CAAC,MAAM;QACLS,OAAO,CAACC,KAAK,CAAC,+BAA+B,CAAC;QAC9CV,QAAQ,CAAC,GAAG,CAAC;MACf;IACF,CAAC,CAAC,OAAOyB,GAAG,EAAE;MACZhB,OAAO,CAACC,KAAK,CAAC,8BAA8B,EAAEe,GAAG,CAAC;MAClDzB,QAAQ,CAAC,GAAG,CAAC;IACf;EACF,CAAC;EAED,MAAM0B,cAAc,GAAGA,CAAA,KAAM;IAC3B,MAAMvB,KAAK,GAAG,IAAIC,eAAe,CAACC,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC,CAACC,GAAG,CAAC,OAAO,CAAC;IACtE,IAAIL,KAAK,EAAE;MACTY,gBAAgB,CAACZ,KAAK,CAAC;IACzB,CAAC,MAAM;MACLH,QAAQ,CAAC,GAAG,CAAC;IACf;EACF,CAAC;EAED,MAAM2B,MAAM,GAAG;IACbC,UAAU,EAAE;MACVC,eAAe,EAAE,0FAA0F;MAC3GC,cAAc,EAAE,OAAO;MACvBC,kBAAkB,EAAE,QAAQ;MAC5BC,oBAAoB,EAAE,OAAO;MAC7BC,MAAM,EAAE,MAAM;MACdC,KAAK,EAAE;IACT,CAAC;IACDC,WAAW,EAAE;MACXC,OAAO,EAAE,MAAM;MACfC,cAAc,EAAE,QAAQ;MACxBC,UAAU,EAAE,QAAQ;MACpBC,OAAO,EAAE,MAAM;MACfC,SAAS,EAAE;IACb,CAAC;IACDC,aAAa,EAAE;MACbb,UAAU,EAAE,0BAA0B;MACtCc,cAAc,EAAE,YAAY;MAC5BC,oBAAoB,EAAE,WAAW;MACjCC,YAAY,EAAE,MAAM;MACpBL,OAAO,EAAE,MAAM;MACfM,SAAS,EAAE,8BAA8B;MACzCX,KAAK,EAAE,MAAM;MACbY,QAAQ,EAAE,OAAO;MACjBC,SAAS,EAAE;IACb,CAAC;IACDC,OAAO,EAAE;MACPC,QAAQ,EAAE,MAAM;MAChBC,KAAK,EAAE,SAAS;MAChBC,UAAU,EAAE,KAAK;MACjBC,YAAY,EAAE;IAChB,CAAC;IACDC,IAAI,EAAE;MACJnB,KAAK,EAAE,MAAM;MACbD,MAAM,EAAE,MAAM;MACdmB,YAAY,EAAE;IAChB,CAAC;IACDE,OAAO,EAAE;MACPL,QAAQ,EAAE,MAAM;MAChBC,KAAK,EAAE,SAAS;MAChBC,UAAU,EAAE,KAAK;MACjBC,YAAY,EAAE;IAChB,CAAC;IACDnD,SAAS,EAAE;MACTgD,QAAQ,EAAE,MAAM;MAChBC,KAAK,EAAE,SAAS;MAChBC,UAAU,EAAE,KAAK;MACjBC,YAAY,EAAE;IAChB,CAAC;IACDG,MAAM,EAAE;MACNhB,OAAO,EAAE,WAAW;MACpBK,YAAY,EAAE,MAAM;MACpBY,eAAe,EAAE,SAAS;MAC1BN,KAAK,EAAE,SAAS;MAChBC,UAAU,EAAE,KAAK;MACjBM,MAAM,EAAE,SAAS;MACjBC,MAAM,EAAE,MAAM;MACdT,QAAQ,EAAE,MAAM;MAChBf,KAAK,EAAE;IACT;EACF,CAAC;EAED,oBACErC,OAAA;IAAK8D,KAAK,EAAEhC,MAAM,CAACC,UAAW;IAAAgC,QAAA,eAC5B/D,OAAA;MAAK8D,KAAK,EAAEhC,MAAM,CAACQ,WAAY;MAAAyB,QAAA,eAC7B/D,OAAA;QAAK8D,KAAK,EAAEhC,MAAM,CAACc,aAAc;QAAAmB,QAAA,gBAE/B/D,OAAA;UAAKgE,GAAG,EAAC,aAAa;UAACC,GAAG,EAAC,SAAS;UAACH,KAAK,EAAEhC,MAAM,CAAC0B;QAAK;UAAAU,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,eAE3DrE,OAAA;UAAI8D,KAAK,EAAEhC,MAAM,CAACqB,OAAQ;UAAAY,QAAA,EAAC;QAAQ;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAExCrE,OAAA;UAAG8D,KAAK,EAAEhC,MAAM,CAAC2B,OAAQ;UAAAM,QAAA,EAAC;QAE1B;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC,eAEJrE,OAAA;UAAG8D,KAAK,EAAEhC,MAAM,CAAC1B,SAAU;UAAA2D,QAAA,GAAC,6BACC,EAAC3D,SAAS,EAAC,aACxC;QAAA;UAAA8D,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC,eAEJrE,OAAA;UAAQ8D,KAAK,EAAEhC,MAAM,CAAC4B,MAAO;UAACY,OAAO,EAAEzC,cAAe;UAAAkC,QAAA,EAAC;QAEvD;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV,CAAC;AAACnE,EAAA,CAhJID,IAAI;EAAA,QACSH,WAAW;AAAA;AAAAyE,EAAA,GADxBtE,IAAI;AAkJV,eAAeA,IAAI;AAAC,IAAAsE,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}